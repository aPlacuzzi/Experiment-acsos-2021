variables:
#  random: &random
#    min: 0
#    max: 29
#    step: 1
#    default: 2
  range: &range
    formula: 350
    language: scala
  moveFrequency: &moveFrequency
    formula: 1/20
    language: scala
  retentionTime: &retentionTime
    formula: Math.min(30.0, 50.0)
    language: scala

export:
  - time

seeds:
  scenario: 0 #*random
  simulation: 0 #*random

incarnation: scafi

ReproduceGPSTrace: &ReproduceGPSTrace
  type: ReproduceGPSTrace
  parameters: ["vcmuser.gpx", false, AlignToTime, 1365922800, false, false]

environment:
  type: OSMEnvironment
  parameters: ["vcm.pbf", false]

network-model:
  type: ConnectWithinDistance #*connectionType
  parameters: [*range]

pools:
  - pool: &program
      - time-distribution: 1
        type: Event
        actions:
          - type: RunScafiProgram
            parameters: ["it.unibo.blocks.S", *retentionTime]
      - program: send
  - pool: &move
      - time-distribution: 0.1
        type: Event
        actions:
          - *ReproduceGPSTrace

displacements:
  - in:
      type: FromGPSTrace
      parameters: [1497, "vcmuser.gpx", false, AlignToTime, 1365922800, false, false] #1497
    programs:
    #  - *move
      - *program
    contents:
      - molecule: range
        concentration: *range
      - molecule: human
        concentration: true